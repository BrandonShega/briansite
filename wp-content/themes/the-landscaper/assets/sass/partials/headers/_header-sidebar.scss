/*--------------------------------------------------------------
Header Sidebar Layout
--------------------------------------------------------------*/

body.header-sidebar {

	@media (min-width: $screen-md) {
		margin-left: 290px;

		.container {
			max-width: 100%;
			padding-left: 30px;
			padding-right: 30px;
		}

		.jumbotron {

			.carousel-text {
				-ms-transform: translate(0%, -50%);
				-webkit-transform: translate(0%, -50%);
				-moz-transform: translate(0%, -50%);
				-o-transform: translate(0%, -50%);
				transform: translate(0%, -50%);

				&.center {
					left: 0;
					width: 100%;
				}
			}

			.carousel-control {

				&.left {
					left: 30px;
				}

				&.right {
					right: 30px;
				}
			}
		}

		&.is-sticky-nav {

			.navigation {
				position: relative;
				top: auto;
			}
		}

		.page-header {
			padding: 65px 0;

			&.header-large {
				padding: 100px 0;
			}
		}

		&.no-topbar {

			.page-header {

				&.header-large {
					padding: 100px 0;
				}
			}
		}

		.header-sidebar {
			position: fixed;
			top: 0;
			bottom: 0;
			left: 0;
			width: 290px;
			z-index: 50;

			.container {
				padding: 0;
			}
		}

		.topbar,
		.widgets {
			float: none;
		}

		.topbar {
			width: 100%;
			padding: 25px 40px 30px 40px!important;
			border-bottom: none!important;
			z-index: 1000;

			.tagline,
			.widget {
				display: block;
				padding: 5px 0;
				clear: both;
			}

			.widget {
				margin: 0;

				&::before {
					display: none;
				}
			}
		}

		.header-sidebar {

			.navbar-header {
				position: relative;
				float: none;
				padding: 30px 40px;
			}

			.navbar-brand {
				padding: 0;

				.site-title {
					padding: 15px 0;
					font-size: 24px;
					color: #999;
				}
			}

			.navigation {
				height: 100%;
				margin-bottom: 0;
				min-height: auto;
				background: none;
				box-shadow: none;
			}

			.main-navigation {
				position: relative;
				padding: 0;
				margin-bottom: 0;
				background: none;

				&::before {
					display: none;
				}

				> li {
					display: block;

					> a {
						display: block;
						padding: 12px 40px;
						font-size: 15px;
						border-bottom: 1px solid rgba(255,255,255,0.1);

						&::before {
							display: none;
						}
					}

					&.menu-item-has-children {

						&::after {
							right: 30px;
							content: "\f0da";
							color: rgba(255,255,255,0.2);
						}

						&:hover {

							&::after {
								color: rgba(255,255,255,0.5);
							}
						}
					}

					&:hover > a::after,
					&:focus > a::after,
					&.current-menu-item > a::after,
					&.current-menu-item > a:hover::after,
					&.current-menu-parent > a::after,
					&.cuurent-menu-parent > a:hover::after {
						width: 4px;
						top: -1px;
						height: calc(100% + 2px);
					}

					&:first-of-type {
						border-top: 1px solid rgba(255,255,255,0.1);
					}
				}

				.sub-menu {
					top: 0;
					left: 100%;

					li {

						&:first-of-type {

							> a {
								box-shadow: none;
							}
						}

						&:hover {

							> a {
								background-color: #98b63c;
								border-color: #98b63c;
							}
						}

						a {
							padding: 12px 21px 12px 18px;
							color: #fff;
							background-color: #a2c046;
							border-color: rgba(255, 255, 255, 0.12);
						}
					}
				}
			}
		}
	}
}

/*--------------------------------------------------------------
Header Sidebar Max Mega Menu
--------------------------------------------------------------*/
.header-sidebar {

	#mega-menu-wrap-primary {

		#mega-menu-primary {

			> li {
				display: block;

				> a {
					border-bottom: 1px solid rgba(255, 255, 255, 0.1);
				}

				&:first-of-type {

					>a {
						border-top: 1px solid rgba(255, 255, 255, 0.1);
					}
				}

				// Link with children arrow
				&.mega-menu-item-has-children {

					i {
						position: absolute;
						right: 30px;
						bottom: 15px;
						font-size: 12px;
						font-weight: bold;
						color: rgba(255, 255, 255, 0.2);
						z-index: 0;

						&::before {
							content: "\f0da";
						}
					}

					&:hover {

						i {

							&::before {
								color: rgba(255, 255, 255, 0.5);
							}
						}
					}
				}


				// Active & hover bottom line
				&.mega-current-menu-item,
				&.mega-current_page_ancestor,
				&:hover {

					> a {

						&::after {
							position: absolute;
							content: "";
							left: 0;
							top: -1px;
							margin: 0!important;
							width: 4px;
							height: calc(100% + 2px);
						}
					}
				}

				&.mega-menu-item {

					// Flyout sub meny
					> ul.mega-sub-menu {


						@media (max-width: $screen-md) {
							width: 100%;
						}

						@media (min-width: $screen-md) {
							top: 0;
							left: 100%;
							z-index: 9999;
						}

						> li {

							> a {
								border-bottom: 1px solid rgba(255, 255, 255, 0.12);
							}

							&:hover {

								> a {
									border-color: #98b63c;
								}
							}
						}
					}
				}
			}
		}
	}
}